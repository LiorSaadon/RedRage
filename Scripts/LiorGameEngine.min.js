$(document).ready(function () { new GameClass });
function GameClass() { var d = $(".Board"), b = new RedShipClass(d), c = new EnemyClass(d); d.mouseenter(function () { d.css("cursor", "none") }); d.mousemove(function (a) { b.MoveMouse(a.pageX, a.pageY) }); d.mousedown(function (a) { switch (a.which) { case 1: b.Fire() } }); var a = setInterval(function () { $("#MissileY").text(b.MissileTopGet()); b.MissileTopGet() <= c.EnemyHitYGet() && b.MissileLeftGet() >= c.EnemyLeftGet() && b.MissileLeftGet() <= c.EnemyHitXGet() && ($("#MissileY").text("Boom!"), c.StopEnemyMovement(), clearInterval(a)) }, 50) }
function RedShipClass(d) {
    var b = $(".RedShip"), c = new MissileClass, a = d.width() - b.width(), g = d.height() - b.height(), h = $(window).width() - d.offset().left - d.width(), i = !0, e = b.position().top, f = b.position().left; this.Move = function (c) { switch (c) { case "left": f != 0 && (f -= 1); break; case "up": e != 0 && (e -= 1); break; case "right": f < a && (f += 1); break; case "down": e < g && (e += 1) } b.css({ top: e, left: f }) }; this.MoveMouse = function (c, d) {
        f = -(h - c); e = d; f != 0 && e != 0 && f < a && e < g && b.css({ top: e, left: f }); $("#MouseXY").text("(" + f + ", " + d + ")"); $("#RedShipXY").text("(" +
$(".RedShip").position().left + ", " + $(".RedShip").position().top + ")")
    }; this.Fire = function () { c.IsAnimated() || (i ? (i = !1, c.PositionSet(e + 10, f)) : (i = !0, c.PositionSet(e + 10, f + b.width() - c.Width() - 2)), c.Fly(e)) }; this.MissileTopGet = function () { return c.TopGet() }; this.MissileLeftGet = function () { return c.LeftGet() } 
}
function MissileClass() {
    function d() { a += c; a == g && (a = 0); b.css("background-position", a + "px 0") } var b = $(".Missile"), c = 8, a = 0, g = 136, h; this.Fly = function (a) { h = setInterval(d, 200); b.css("visibility", "visible"); b.animate({ top: "-=" + a }, 1500, function () { b.css({ visibility: "hidden", top: "360px" }); clearInterval(h) }) }; this.TopGet = function () { return b.position().top }; this.LeftGet = function () { return b.position().left }; this.Width = function () { return b.width() }; this.IsAnimated = function () { return b.is(":animated") }; this.PositionSet =
function (a, c) { b.css({ top: a, left: c }) } 
}
function EnemyClass(d) {
    function b() { a.animate({ left: h }, 2E3).animate({ left: 0 }, 2E3) } function c() { j -= f; j == 0 && clearInterval(i); g.css("background-position", j + "px 0") } var a = $(".Enemy1"), g = $(".Explode"), h = d.width() - a.width(), i; b(); var e = setInterval(b, 4050); this.StopEnemyMovement = function () { clearInterval(e); g.show(); g.css({ top: a.position().top, left: a.position().left }); i = setInterval(c, k); a.hide() }; var f = 64, j = 1024, k = 150; this.EnemyTopGet = function () { return a.position().top }; this.EnemyLeftGet = function () { return a.position().left };
    this.EnemyHitYGet = function () { return a.position().top + a.height() }; this.EnemyHitXGet = function () { return a.position().left + a.height() } 
};